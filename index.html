<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–ø—Ä–∏–Ω—Ç</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #7B68EE;
            --primary-light: #9370DB;
            --secondary: #FF6B8B;
            --accent: #00D4AA;
            --light: #F8F9FF;
            --dark: #1A1A2E;
            --dark-light: #2D3047;
            --success: #00E676;
            --warning: #FFD166;
            --danger: #FF6B6B;
            --text-light: #FFFFFF;
            --text-dark: #333344;
            --border-radius: 20px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            --shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 30px 60px rgba(0, 0, 0, 0.15);
            --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, #00C9FF 100%);
            --gradient-warning: linear-gradient(135deg, var(--warning) 0%, #FF9E6D 100%);
            --gradient-danger: linear-gradient(135deg, var(--danger) 0%, #FF8E8E 100%);
        }

        .dark-theme {
            --light: #121220;
            --dark: #F0F0FF;
            --dark-light: #2A2A3E;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            min-height: 100vh;
            transition: var(--transition);
            line-height: 1.6;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(123, 104, 238, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 107, 139, 0.1) 0%, transparent 50%);
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* Header Styles */
        header {
            width: 100%;
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .logo-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            box-shadow: var(--shadow);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
            position: relative;
            display: inline-block;
            text-align: center;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--gradient-accent);
            border-radius: 2px;
        }

        .tagline {
            font-size: 1.4rem;
            color: var(--dark);
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto 30px;
            font-weight: 300;
            text-align: center;
        }

        .dark-theme .tagline {
            color: var(--text-light);
            opacity: 0.9;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--dark-light);
            border-radius: 50%;
            border: none;
            color: var(--dark);
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            z-index: 1000;
            box-shadow: var(--shadow);
        }

        .theme-toggle:hover {
            transform: scale(1.1) rotate(15deg);
            background: var(--primary);
            color: white;
        }

        /* Score System */
        .score-system {
            background: rgba(255, 255, 255, 0.9);
            border-radius: var(--border-radius);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            margin: 0 auto 40px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .dark-theme .score-system {
            background: rgba(45, 48, 71, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .score-system-title {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 25px;
            font-weight: 700;
            text-align: center;
        }

        .score-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .score-grid {
                grid-template-columns: 1fr;
            }
        }

        .score-item {
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: var(--transition);
        }

        .score-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .score-value {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .score-label {
            font-size: 1.1rem;
            opacity: 0.9;
            font-weight: 600;
        }

        .score-desc {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 10px;
        }

        /* Game Description */
        .game-description {
            background: rgba(255, 255, 255, 0.9);
            border-radius: var(--border-radius);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            margin: 60px auto 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .game-description::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
        }

        .dark-theme .game-description {
            background: rgba(45, 48, 71, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .description-title {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 700;
            text-align: center;
        }

        .description-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-dark);
            margin-bottom: 25px;
            text-align: center;
        }

        .dark-theme .description-text {
            color: rgba(255, 255, 255, 0.9);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .feature {
            background: var(--gradient-primary);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: var(--transition);
        }

        .feature:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .feature i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        /* Physics Sections */
        .sections-container {
            width: 100%;
            max-width: 1000px;
            margin: 40px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .section-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 40px;
            color: var(--dark);
            position: relative;
            width: 100%;
        }

        .dark-theme .section-title {
            color: var(--text-light);
        }

        .section-title::before {
            content: 'üéØ';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .section-title::after {
            content: '‚ö°';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .physics-sections {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            width: 100%;
            justify-items: center;
            margin-bottom: 40px;
        }

        @media (max-width: 992px) {
            .physics-sections {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .physics-sections {
                grid-template-columns: 1fr;
            }
        }

        .section-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.7));
            border-radius: var(--border-radius);
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            width: 100%;
            max-width: 320px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .dark-theme .section-card {
            background: linear-gradient(145deg, rgba(45, 48, 71, 0.9), rgba(30, 33, 54, 0.7));
        }

        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
        }

        .section-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary);
        }

        .section-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            color: white;
            transition: var(--transition);
        }

        .section-card:hover .section-icon {
            transform: rotate(360deg) scale(1.1);
        }

        .section-card h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--primary);
            font-weight: 700;
            text-align: center;
            width: 100%;
            line-height: 1.1;
            min-height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            word-break: break-word;
            hyphens: auto;
        }

        /* –£–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤ */
        .section-card h3.long-title {
            font-size: 1.6rem;
            letter-spacing: -0.3px;
        }

        /* –û—Å–æ–±–æ –¥–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è */
        .section-card h3.very-long-title {
            font-size: 1.5rem;
            letter-spacing: -0.5px;
            line-height: 1;
        }

        .section-description {
            color: var(--text-dark);
            font-size: 1rem;
            margin-bottom: 20px;
            min-height: 60px;
            text-align: center;
            width: 100%;
            line-height: 1.4;
        }

        .dark-theme .section-description {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Marathon Card */
        .marathon-card {
            background: linear-gradient(135deg, #FF6B8B, #FF8E8E);
            grid-column: 1 / -1;
            max-width: 600px;
            width: 100%;
            margin-top: 20px;
        }

        .marathon-card .section-icon {
            background: linear-gradient(135deg, #FF8E8E, #FF6B8B);
        }

        .marathon-card h3 {
            color: white;
        }

        .marathon-card .section-description {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Section Detail Modal */
        .section-detail {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .detail-content {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 40px;
            max-width: 500px;
            width: 100%;
            position: relative;
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .dark-theme .detail-content {
            background: var(--dark-light);
        }

        @keyframes slideUp {
            from { transform: translateY(50px) scale(0.9); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .detail-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--dark);
            cursor: pointer;
            transition: var(--transition);
        }

        .dark-theme .detail-close {
            color: var(--text-light);
        }

        .detail-close:hover {
            color: var(--danger);
            transform: rotate(90deg);
        }

        .detail-icon {
            width: 100px;
            height: 100px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 3rem;
            color: white;
        }

        .detail-title {
            font-size: 2.5rem;
            text-align: center;
            color: var(--primary);
            margin-bottom: 20px;
            font-weight: 800;
            width: 100%;
        }

        .detail-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-dark);
            margin-bottom: 30px;
            text-align: center;
            width: 100%;
        }

        .dark-theme .detail-text {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Game Area */
        .game-area {
            display: none;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            animation: fadeIn 0.5s ease;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 30px;
            width: 100%;
        }

        .stat-item {
            background: linear-gradient(135deg, var(--dark-light), var(--primary));
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 5px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            letter-spacing: 1px;
        }

        /* Timer */
        .timer-container {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            margin: 30px 0;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            width: 100%;
        }

        .timer-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .timer-label {
            font-size: 1.2rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .timer {
            font-size: 4rem;
            font-weight: 800;
            font-family: 'Courier New', monospace;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .timer.warning {
            color: var(--warning);
            animation: pulse 1s infinite;
        }

        /* Question Card */
        .question-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 2px solid var(--primary-light);
            position: relative;
            width: 100%;
        }

        .dark-theme .question-card {
            background: rgba(45, 48, 71, 0.95);
        }

        .difficulty-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .easy-badge {
            background: var(--gradient-accent);
            color: white;
        }

        .medium-badge {
            background: var(--gradient-warning);
            color: #333;
        }

        .hard-badge {
            background: var(--gradient-danger);
            color: white;
        }

        .question-number {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 600;
            text-align: center;
        }

        .question-text {
            font-size: 1.5rem;
            line-height: 1.6;
            color: var(--text-dark);
            margin-bottom: 20px;
            text-align: center;
        }

        .dark-theme .question-text {
            color: var(--text-light);
        }

        .question-hint {
            font-style: italic;
            color: var(--primary);
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(123, 104, 238, 0.2);
            text-align: center;
        }

        /* Answer Area */
        .answer-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            width: 100%;
        }

        .dark-theme .answer-area {
            background: rgba(45, 48, 71, 0.95);
        }

        .answer-input {
            width: 100%;
            padding: 20px;
            border: 3px solid var(--primary-light);
            border-radius: 15px;
            font-size: 1.3rem;
            margin-bottom: 25px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            transition: var(--transition);
            text-align: center;
            font-weight: 600;
        }

        .dark-theme .answer-input {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .answer-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(0, 212, 170, 0.2);
            transform: scale(1.02);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            width: 100%;
        }

        @media (max-width: 768px) {
            .controls-grid {
                grid-template-columns: 1fr;
            }
        }

        .control-btn {
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            letter-spacing: 0.5px;
            width: 100%;
        }

        .control-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .control-btn:active {
            transform: translateY(-2px);
        }

        .submit-btn {
            background: var(--gradient-accent);
            color: white;
        }

        .hint-btn {
            background: var(--gradient-warning);
            color: #333;
        }

        .skip-btn {
            background: var(--gradient-danger);
            color: white;
        }

        /* Hint Box */
        .hint-box {
            background: linear-gradient(135deg, rgba(255, 209, 102, 0.1), rgba(255, 158, 109, 0.1));
            border-left: 5px solid var(--warning);
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin-bottom: 20px;
            display: none;
            animation: slideIn 0.3s ease;
            width: 100%;
        }

        .hint-box.show {
            display: block;
        }

        .hint-title {
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dark-theme .hint-title {
            color: white;
        }

        /* Results Screen */
        .results-screen {
            display: none;
            text-align: center;
            padding: 40px;
            animation: fadeIn 0.5s ease;
            width: 100%;
            max-width: 800px;
        }

        .results-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 50px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-hover);
            position: relative;
            overflow: hidden;
            width: 100%;
        }

        .results-card::before {
            content: 'üèÜ';
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 4rem;
            opacity: 0.3;
            transform: rotate(15deg);
        }

        .results-title {
            font-size: 3rem;
            margin-bottom: 20px;
            font-weight: 800;
            text-align: center;
        }

        .final-score {
            font-size: 6rem;
            font-weight: 900;
            margin: 30px 0;
            text-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            background: linear-gradient(45deg, #FFD166, #FF9E6D);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-align: center;
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .result-stat {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .results-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 18px 40px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            min-width: 200px;
        }

        .play-again-btn {
            background: var(--accent);
            color: white;
        }

        .new-game-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            backdrop-filter: blur(10px);
        }

        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        /* Footer */
        footer {
            width: 100%;
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid rgba(123, 104, 238, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .developers {
            font-size: 1.1rem;
            color: var(--dark);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .dark-theme .developers {
            color: var(--text-light);
        }

        .university {
            font-size: 0.9rem;
            color: var(--primary);
            opacity: 0.8;
            text-align: center;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            h1 {
                font-size: 2.8rem;
            }
            
            .tagline {
                font-size: 1.2rem;
            }
            
            .section-title::before,
            .section-title::after {
                display: none;
            }
            
            .results-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .section-card {
                padding: 25px 20px;
                max-width: 100%;
            }
            
            .timer {
                font-size: 3rem;
            }
            
            .question-text {
                font-size: 1.3rem;
            }
            
            .results-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .action-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .theme-toggle {
                top: 15px;
                right: 15px;
                width: 50px;
                height: 50px;
            }
            
            .game-description {
                padding: 20px;
            }
            
            /* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π */
            .section-card h3.long-title {
                font-size: 1.5rem;
            }
            
            .section-card h3.very-long-title {
                font-size: 1.4rem;
            }
            
            .section-card h3 {
                font-size: 1.6rem;
                min-height: 50px;
            }
            
            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .description-title {
                font-size: 1.5rem;
            }
            
            .detail-content {
                padding: 25px;
            }
            
            .stat-item {
                padding: 15px;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .final-score {
                font-size: 4rem;
            }
            
            .results-stats {
                grid-template-columns: 1fr;
            }
            
            .section-card h3 {
                font-size: 1.4rem;
                min-height: 45px;
            }
            
            .section-card h3.long-title {
                font-size: 1.3rem;
            }
            
            .section-card h3.very-long-title {
                font-size: 1.2rem;
            }
        }

        /* Animations */
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .bounce {
            animation: bounce 0.5s ease;
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes correct {
            0% {
                background-color: inherit;
            }
            50% {
                background-color: rgba(0, 230, 118, 0.3);
            }
            100% {
                background-color: inherit;
            }
        }

        .correct-animation {
            animation: correct 0.6s ease;
        }

        @keyframes incorrect {
            0%, 100% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(-10px);
            }
            75% {
                transform: translateX(10px);
            }
        }

        .incorrect-animation {
            animation: incorrect 0.4s ease;
        }

        /* Loading Animation */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }

        .loading-dot {
            width: 12px;
            height: 12px;
            background: var(--primary);
            border-radius: 50%;
            animation: loading 1.4s infinite ease-in-out both;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loading {
            0%, 80%, 100% { transform: scale(0); opacity: 0.3; }
            40% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" id="themeToggle">
        <i class="fas fa-moon"></i>
    </button>

    <div class="container">
        <header>
            <div class="logo-container">
                <div class="logo-icon">
                    <i class="fas fa-atom"></i>
                </div>
                <h1>–§–ò–ó–ò–ß–ï–°–ö–ò–ô –°–ü–†–ò–ù–¢</h1>
                <p class="tagline">–°–æ—Ä–µ–≤–Ω—É–π—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º, –ø–æ–∫–æ—Ä—è—è –≤–µ—Ä—à–∏–Ω—ã —Ñ–∏–∑–∏–∫–∏! –£–º–Ω–∞—è –∏–≥—Ä–∞ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é –∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–º –≥–µ–π–º–ø–ª–µ–µ–º.</p>
            </div>
        </header>

        <main class="sections-container">
            <!-- –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ -->
            <div class="score-system">
                <h2 class="score-system-title">üéØ –°–ò–°–¢–ï–ú–ê –ë–ê–õ–õ–û–í –ò –ù–ê–ì–†–ê–î</h2>
                <div class="score-grid">
                    <div class="score-item">
                        <div class="score-value">10-30</div>
                        <div class="score-label">–ë–ê–õ–õ–û–í –ó–ê –û–¢–í–ï–¢</div>
                        <div class="score-desc">–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">+10</div>
                        <div class="score-label">–°–ï–ö–£–ù–î –ë–û–ù–£–°–ê</div>
                        <div class="score-desc">–ó–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏</div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">√ó1.5</div>
                        <div class="score-label">–ú–ù–û–ñ–ò–¢–ï–õ–¨</div>
                        <div class="score-desc">–ó–∞ –æ—Ç–≤–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫</div>
                    </div>
                </div>
                <p class="description-text" style="margin-top: 20px;">
                    –ü–æ–ª—É—á–∞–π—Ç–µ –±–æ–ª—å—à–µ –±–∞–ª–ª–æ–≤ –∑–∞ –±—ã—Å—Ç—Ä—ã–µ –∏ —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (-5 –±–∞–ª–ª–æ–≤) 
                    –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã (-10 –±–∞–ª–ª–æ–≤), –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è!
                </p>
            </div>

            <h2 class="section-title">–í–´–ë–ï–†–ò –°–í–û–ô –†–ê–ó–î–ï–õ</h2>
            
            <div class="physics-sections">
                <!-- –ú–µ—Ö–∞–Ω–∏–∫–∞ -->
                <div class="section-card" data-section="mechanics">
                    <div class="section-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3>–ú–ï–•–ê–ù–ò–ö–ê</h3>
                    <p class="section-description">–î–≤–∏–∂–µ–Ω–∏–µ —Ç–µ–ª, —Å–∏–ª—ã, —ç–Ω–µ—Ä–≥–∏—è. –û—Å–Ω–æ–≤—ã –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ñ–∏–∑–∏–∫–∏.</p>
                </div>

                <!-- –¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞ -->
                <div class="section-card" data-section="thermodynamics">
                    <div class="section-icon">
                        <i class="fas fa-thermometer-half"></i>
                    </div>
                    <h3 class="long-title">–¢–ï–†–ú–û–î–ò–ù–ê–ú–ò–ö–ê</h3>
                    <p class="section-description">–¢–µ–ø–ª–æ–≤—ã–µ —è–≤–ª–µ–Ω–∏—è, –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏, —Ü–∏–∫–ª—ã –∏ –ö–ü–î.</p>
                </div>

                <!-- –≠–ª–µ–∫—Ç—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∞ -->
                <div class="section-card" data-section="electrodynamics">
                    <div class="section-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3 class="long-title">–≠–õ–ï–ö–¢–†–û–î–ò–ù–ê–ú–ò–ö–ê</h3>
                    <p class="section-description">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∏ –º–∞–≥–Ω–∏—Ç–Ω—ã–µ –ø–æ–ª—è, —Ü–µ–ø–∏, —ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–µ —è–≤–ª–µ–Ω–∏—è.</p>
                </div>

                <!-- –û–ø—Ç–∏–∫–∞ -->
                <div class="section-card" data-section="optics">
                    <div class="section-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3>–û–ü–¢–ò–ö–ê</h3>
                    <p class="section-description">–°–≤–µ—Ç–æ–≤—ã–µ —è–≤–ª–µ–Ω–∏—è, –ª–∏–Ω–∑—ã, –∑–µ—Ä–∫–∞–ª–∞, –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏—è –∏ –¥–∏—Ñ—Ä–∞–∫—Ü–∏—è.</p>
                </div>

                <!-- –ö–≤–∞–Ω—Ç–æ–≤–∞—è —Ñ–∏–∑–∏–∫–∞ -->
                <div class="section-card" data-section="quantum">
                    <div class="section-icon">
                        <i class="fas fa-atom"></i>
                    </div>
                    <h3 class="very-long-title">–ö–í–ê–ù–¢–û–í–ê–Ø –§–ò–ó–ò–ö–ê</h3>
                    <p class="section-description">–ö–≤–∞–Ω—Ç–æ–≤—ã–µ —è–≤–ª–µ–Ω–∏—è, –≤–æ–ª–Ω–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —á–∞—Å—Ç–∏—Ü, —Å—Ç—Ä–æ–µ–Ω–∏–µ –∞—Ç–æ–º–∞.</p>
                </div>
            </div>

            <!-- –ú–∞—Ä–∞—Ñ–æ–Ω -->
            <div class="section-card marathon-card" data-section="marathon">
                <div class="section-icon">
                    <i class="fas fa-fire"></i>
                </div>
                <h3>–§–ò–ó–ò–ß–ï–°–ö–ò–ô –ú–ê–†–ê–§–û–ù</h3>
                <p class="section-description">100 –∑–∞–¥–∞—á –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∫ —Å–ª–æ–∂–Ω—ã–º. –ü—Ä–æ–≤–µ—Ä—å –∑–Ω–∞–Ω–∏—è –≤–æ –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö!</p>
            </div>

            <!-- –ò–≥—Ä–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç -->
            <div class="game-description">
                <h2 class="description-title">üéÆ –ò–ì–†–û–í–û–ô –§–û–†–ú–ê–¢ –û–ë–£–ß–ï–ù–ò–Ø –§–ò–ó–ò–ö–ï</h2>
                <p class="description-text">
                    "–§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–ø—Ä–∏–Ω—Ç" ‚Äî —ç—Ç–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –≥–¥–µ —Ñ–∏–∑–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π –∏–≥—Ä–æ–π. 
                    –†–µ—à–∞–π—Ç–µ –∑–∞–¥–∞—á–∏, –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –±–∞–ª–ª—ã, –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∏ —Å–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å —Å —Å–∞–º–∏–º —Å–æ–±–æ–π. –û—Ç –ø—Ä–æ—Å—Ç—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö 
                    —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π ‚Äî –∫–∞–∂–¥–∞—è –ø–æ–±–µ–¥–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—Å —É–º–Ω–µ–µ!
                </p>
                
                <div class="features-grid">
                    <div class="feature">
                        <i class="fas fa-brain"></i>
                        <h3>–£–º–Ω—ã–µ –∑–∞–¥–∞—á–∏</h3>
                        <p>–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-trophy"></i>
                        <h3>–°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤</h3>
                        <p>–ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-clock"></i>
                        <h3>–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è</h3>
                        <p>–†–µ–∞–ª—å–Ω–æ —É—Å–ø–µ—Ç—å —Ä–µ—à–∏—Ç—å</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-gamepad"></i>
                        <h3>–ò–≥—Ä–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç</h3>
                        <p>–£–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Section Detail Modal -->
        <div class="section-detail" id="sectionDetail">
            <div class="detail-content">
                <button class="detail-close" id="detailClose">
                    <i class="fas fa-times"></i>
                </button>
                <div class="detail-icon" id="detailIcon">
                    <i class="fas fa-cogs"></i>
                </div>
                <h2 class="detail-title" id="detailTitle">–ú–ï–•–ê–ù–ò–ö–ê</h2>
                <p class="detail-text" id="detailText">
                    –†–∞–∑–¥–µ–ª –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ñ–∏–∑–∏–∫–∏, –∏–∑—É—á–∞—é—â–∏–π –¥–≤–∏–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö —Ç–µ–ª –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏.
                </p>
                <div class="detail-info" id="detailInfo">
                    <div style="margin: 25px 0; padding: 20px; background: rgba(123, 104, 238, 0.1); border-radius: 15px; width: 100%;">
                        <h3 style="color: var(--primary); margin-bottom: 10px; text-align: center;">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ê–ó–î–ï–õ–ê</h3>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ 15 –∑–∞–¥–∞—á —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –û—Ç –ø—Ä–æ—Å—Ç—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –∫ —Å–ª–æ–∂–Ω—ã–º –∑–∞–¥–∞—á–∞–º</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ: 3 –º–∏–Ω—É—Ç—ã</p>
                        <p style="text-align: center;">‚Ä¢ –ë–∞–ª–ª—ã: 10-30 –∑–∞ –∑–∞–¥–∞—á—É</p>
                    </div>
                </div>
                <button class="control-btn submit-btn" id="startSectionGame" style="width: 100%; padding: 20px; font-size: 1.2rem;">
                    <i class="fas fa-play-circle"></i> –ù–ê–ß–ê–¢–¨ –†–ï–®–ê–¢–¨!
                </button>
            </div>
        </div>

        <!-- Game Area -->
        <div class="game-area" id="gameArea">
            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value" id="score">0</div>
                    <div class="stat-label">–ë–ê–õ–õ–´</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="questionNumber">1/15</div>
                    <div class="stat-label">–í–û–ü–†–û–°</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="correctAnswers">0</div>
                    <div class="stat-label">–ü–†–ê–í–ò–õ–¨–ù–û</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="bonusTime">0</div>
                    <div class="stat-label">–ë–û–ù–£–° (—Å–µ–∫)</div>
                </div>
            </div>

            <!-- Timer -->
            <div class="timer-container">
                <div class="timer-label">–û–°–¢–ê–í–®–ï–ï–°–Ø –í–†–ï–ú–Ø</div>
                <div class="timer" id="timer">03:00</div>
            </div>

            <!-- Question Card -->
            <div class="question-card">
                <div class="difficulty-badge easy-badge" id="difficultyBadge">–õ—ë–≥–∫–∏–π</div>
                <div class="question-number">–í–û–ü–†–û–° <span id="currentQuestion">1</span> –ò–ó <span id="totalQuestions">15</span></div>
                <div class="question-text" id="questionText">
                    –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞...
                </div>
                <div class="question-hint" id="questionHint">
                    –í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º
                </div>
            </div>

            <!-- Hint Box -->
            <div class="hint-box" id="hintBox">
                <div class="hint-title">
                    <i class="fas fa-lightbulb"></i> –ü–û–î–°–ö–ê–ó–ö–ê
                </div>
                <div id="hintText">–¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</div>
            </div>

            <!-- Answer Area -->
            <div class="answer-area">
                <input type="text" class="answer-input" id="answerInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å..." autocomplete="off">
                <div class="controls-grid">
                    <button class="control-btn submit-btn" id="submitAnswer">
                        <i class="fas fa-check"></i> –ü–†–û–í–ï–†–ò–¢–¨
                    </button>
                    <button class="control-btn hint-btn" id="showHint">
                        <i class="fas fa-lightbulb"></i> –ü–û–î–°–ö–ê–ó–ö–ê (-5)
                    </button>
                    <button class="control-btn skip-btn" id="skipQuestion">
                        <i class="fas fa-forward"></i> –ü–†–û–ü–£–°–¢–ò–¢–¨ (-10)
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div class="results-screen" id="resultsScreen">
            <div class="results-card">
                <h2 class="results-title">–ò–ì–†–ê –ó–ê–í–ï–†–®–ï–ù–ê!</h2>
                <div class="final-score" id="finalScore">0</div>
                
                <div class="results-stats">
                    <div class="result-stat">
                        <div class="result-value" id="finalCorrect">0</div>
                        <div class="stat-label">–ü–†–ê–í–ò–õ–¨–ù–´–• –û–¢–í–ï–¢–û–í</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-value" id="finalTime">00:00</div>
                        <div class="stat-label">–û–ë–©–ï–ï –í–†–ï–ú–Ø</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-value" id="finalBonus">0</div>
                        <div class="stat-label">–ë–û–ù–£–°–ù–´–• –°–ï–ö–£–ù–î</div>
                    </div>
                </div>

                <div class="results-actions">
                    <button class="action-btn play-again-btn" id="playAgain">
                        <i class="fas fa-redo"></i> –ò–ì–†–ê–¢–¨ –ï–©–Å
                    </button>
                    <button class="action-btn new-game-btn" id="newGame">
                        <i class="fas fa-home"></i> –ù–û–í–ê–Ø –ò–ì–†–ê
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="developers">–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ "–¢–¢–ò–¢"</div>
        <div class="university">–î—É–≤–∞–Ω–æ–≤–∞ –í–µ—Ä–∞ –í–∞–ª–µ—Ä—å–µ–≤–Ω–∞ & –õ–µ–æ–Ω–≥–∞—Ä–¥ –í–∏–∫—Ç–æ—Ä–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞</div>
        <div class="university" style="margin-top: 10px; font-size: 0.8rem;">¬© 2026 –§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–ø—Ä–∏–Ω—Ç ‚Äî –ò–≥—Ä–∞–π —Å –∏–∑—É—á–µ–Ω–∏–µ–º —Ñ–∏–∑–∏–∫–∏!</div>
    </footer>

    <script>
        // Game State
        const gameState = {
            mode: null,
            section: null,
            isTimed: true,
            score: 0,
            correctAnswers: 0,
            currentQuestion: 0,
            totalQuestions: 15,
            timeLeft: 180, // –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 3 –º–∏–Ω—É—Ç
            bonusTime: 0,
            timerInterval: null,
            currentQuestionData: null,
            usedHints: 0,
            wrongAttempts: 0,
            questions: [],
            startTime: null,
            gameActive: false
        };

        // –í—Ä–µ–º—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
        const sectionTimes = {
            mechanics: 180,    // 3 –º–∏–Ω—É—Ç—ã
            thermodynamics: 240, // 4 –º–∏–Ω—É—Ç—ã (—Å–ª–æ–∂–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã)
            electrodynamics: 240, // 4 –º–∏–Ω—É—Ç—ã
            optics: 240,       // 4 –º–∏–Ω—É—Ç—ã
            quantum: 300,      // 5 –º–∏–Ω—É—Ç (—Å–∞–º—ã–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏)
            marathon: 1800     // 30 –º–∏–Ω—É—Ç –¥–ª—è –º–∞—Ä–∞—Ñ–æ–Ω–∞
        };

        // Physics Questions Database
        const physicsQuestions = {
            mechanics: [
                { 
                    question: "–¢–µ–ª–æ –º–∞—Å—Å–æ–π 5 –∫–≥ –¥–≤–∏–∂–µ—Ç—Å—è —Å —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º 2 –º/—Å¬≤. –ß–µ–º—É —Ä–∞–≤–Ω–∞ —Ä–∞–≤–Ω–æ–¥–µ–π—Å—Ç–≤—É—é—â–∞—è —Å–∏–ª, –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫ —Ç–µ–ª—É? (–û—Ç–≤–µ—Ç –≤ –ù—å—é—Ç–æ–Ω–∞—Ö)", 
                    answer: "10",
                    hint: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Ç–æ—Ä–æ–π –∑–∞–∫–æ–Ω –ù—å—é—Ç–æ–Ω–∞: F = m * a",
                    explanation: "F = m * a = 5 –∫–≥ * 2 –º/—Å¬≤ = 10 –ù",
                    difficulty: "easy"
                },
                { 
                    question: "–ê–≤—Ç–æ–º–æ–±–∏–ª—å –ø—Ä–æ–µ—Ö–∞–ª 120 –∫–º –∑–∞ 2 —á–∞—Å–∞. –ö–∞–∫–æ–≤–∞ –µ–≥–æ —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å? (–û—Ç–≤–µ—Ç –≤ –∫–º/—á)", 
                    answer: "60",
                    hint: "–°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å = —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ / –≤—Ä–µ–º—è",
                    explanation: "v = s / t = 120 –∫–º / 2 —á = 60 –∫–º/—á",
                    difficulty: "easy"
                },
                { 
                    question: "–ß–µ–º—É —Ä–∞–≤–Ω–∞ —Å–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏, –¥–µ–π—Å—Ç–≤—É—é—â–∞—è –Ω–∞ —Ç–µ–ª–æ –º–∞—Å—Å–æ–π 3 –∫–≥? (–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—å –∑–∞ 10 –º/—Å¬≤, –æ—Ç–≤–µ—Ç –≤ –ù—å—é—Ç–æ–Ω–∞—Ö)", 
                    answer: "30",
                    hint: "–°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ F = m * g",
                    explanation: "F = m * g = 3 –∫–≥ * 10 –º/—Å¬≤ = 30 –ù",
                    difficulty: "easy"
                },
                { 
                    question: "–ö–∞–∫–æ–π –ø—É—Ç—å –ø—Ä–æ–π–¥–µ—Ç —Ç–µ–ª–æ –∑–∞ 5 —Å–µ–∫—É–Ω–¥, –¥–≤–∏–≥–∞—è—Å—å —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é 4 –º/—Å? (–û—Ç–≤–µ—Ç –≤ –º–µ—Ç—Ä–∞—Ö)", 
                    answer: "20",
                    hint: "–ü—É—Ç—å = —Å–∫–æ—Ä–æ—Å—Ç—å * –≤—Ä–µ–º—è",
                    explanation: "s = v * t = 4 –º/—Å * 5 —Å = 20 –º",
                    difficulty: "easy"
                },
                { 
                    question: "–ß–µ–º—É —Ä–∞–≤–Ω–∞ –∫–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è —Ç–µ–ª–∞ –º–∞—Å—Å–æ–π 2 –∫–≥, –¥–≤–∏–∂—É—â–µ–≥–æ—Å—è —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é 3 –º/—Å? (–û—Ç–≤–µ—Ç –≤ –î–∂–æ—É–ª—è—Ö)", 
                    answer: "9",
                    hint: "–§–æ—Ä–º—É–ª–∞ –∫–∏–Ω–µ—Ç–∏—á–µ—Å–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏: E = (m * v¬≤) / 2",
                    explanation: "E = (2 –∫–≥ * (3 –º/—Å)¬≤) / 2 = (2 * 9) / 2 = 9 –î–∂",
                    difficulty: "easy"
                },
                { 
                    question: "–¢–µ–ª–æ –±—Ä–æ—à–µ–Ω–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –≤–≤–µ—Ä—Ö —Å –Ω–∞—á–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é 20 –º/—Å. –ù–∞ –∫–∞–∫—É—é –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É –æ–Ω–æ –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è? (–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—å –∑–∞ 10 –º/—Å¬≤, –æ—Ç–≤–µ—Ç –≤ –º–µ—Ç—Ä–∞—Ö)", 
                    answer: "20",
                    hint: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É–ª—É: h = v‚ÇÄ¬≤ / (2g)",
                    explanation: "h = (20 –º/—Å)¬≤ / (2 * 10 –º/—Å¬≤) = 400 / 20 = 20 –º",
                    difficulty: "medium"
                },
                { 
                    question: "–®–∞—Ä–∏–∫ –º–∞—Å—Å–æ–π 0.1 –∫–≥ –ø–∞–¥–∞–µ—Ç —Å –≤—ã—Å–æ—Ç—ã 5 –º. –ö–∞–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –æ–Ω –±—É–¥–µ—Ç –∏–º–µ—Ç—å –≤ –º–æ–º–µ–Ω—Ç —É–¥–∞—Ä–∞ –æ –∑–µ–º–ª—é? (–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—å –∑–∞ 10 –º/—Å¬≤, –æ—Ç–≤–µ—Ç –≤ –º/—Å)", 
                    answer: "10",
                    hint: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–∫–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ –∏–ª–∏ —Ñ–æ—Ä–º—É–ª—É: v = ‚àö(2gh)",
                    explanation: "v = ‚àö(2 * 10 –º/—Å¬≤ * 5 –º) = ‚àö100 = 10 –º/—Å",
                    difficulty: "medium"
                },
                { 
                    question: "–î–≤–∞ —à–∞—Ä–∞ –º–∞—Å—Å–∞–º–∏ 2 –∫–≥ –∏ 3 –∫–≥ –¥–≤–∏–∂—É—Ç—Å—è –Ω–∞–≤—Å—Ç—Ä–µ—á—É –¥—Ä—É–≥ –¥—Ä—É–≥—É —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—è–º–∏ 4 –º/—Å –∏ 5 –º/—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å —à–∞—Ä–æ–≤ –ø–æ—Å–ª–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ—É–ø—Ä—É–≥–æ–≥–æ —É–¥–∞—Ä–∞. (–û—Ç–≤–µ—Ç –≤ –º/—Å, —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –¥–µ—Å—è—Ç—ã—Ö)", 
                    answer: "-1.4",
                    hint: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–∫–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–º–ø—É–ª—å—Å–∞ –¥–ª—è –Ω–µ—É–ø—Ä—É–≥–æ–≥–æ —É–¥–∞—Ä–∞",
                    explanation: "m1*v1 + m2*v2 = (m1+m2)*u; 2*4 + 3*(-5) = 5*u; 8 - 15 = 5*u; u = -7/5 = -1.4 –º/—Å",
                    difficulty: "hard"
                }
            ],
            thermodynamics: [
                { 
                    question: "–ì–∞–∑ –Ω–∞–≥—Ä–µ–ª–∏ –Ω–∞ 100 –ö –ø—Ä–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –¥–∞–≤–ª–µ–Ω–∏–∏. –ù–∞ —Å–∫–æ–ª—å–∫–æ –¥–∂–æ—É–ª–µ–π —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —ç–Ω–µ—Ä–≥–∏—è, –µ—Å–ª–∏ –µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—â–µ—Å—Ç–≤–∞ 2 –º–æ–ª—å, –∞ –º–æ–ª—è—Ä–Ω–∞—è —Ç–µ–ø–ª–æ–µ–º–∫–æ—Å—Ç—å –ø—Ä–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –æ–±—ä–µ–º–µ 20.8 –î–∂/(–º–æ–ª—å¬∑–ö)? (–û—Ç–≤–µ—Ç –≤ –î–∂–æ—É–ª—è—Ö)", 
                    answer: "4160",
                    hint: "ŒîU = n * Cv * ŒîT",
                    explanation: "ŒîU = 2 –º–æ–ª—å * 20.8 –î–∂/(–º–æ–ª—å¬∑–ö) * 100 –ö = 4160 –î–∂",
                    difficulty: "easy"
                },
                { 
                    question: "–ö–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–ø–ª–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –Ω–∞–≥—Ä–µ–≤–∞–Ω–∏—è 2 –∫–≥ –≤–æ–¥—ã –æ—Ç 20¬∞C –¥–æ 100¬∞C? (–£–¥–µ–ª—å–Ω–∞—è —Ç–µ–ø–ª–æ–µ–º–∫–æ—Å—Ç—å –≤–æ–¥—ã 4200 –î–∂/(–∫–≥¬∑¬∞C), –æ—Ç–≤–µ—Ç –≤ –∫–∏–ª–æ–¥–∂–æ—É–ª—è—Ö)", 
                    answer: "672",
                    hint: "Q = m * c * ŒîT",
                    explanation: "Q = 2 –∫–≥ * 4200 –î–∂/(–∫–≥¬∑¬∞C) * 80¬∞C = 672000 –î–∂ = 672 –∫–î–∂",
                    difficulty: "easy"
                },
                { 
                    question: "–ö–∞–∫–æ–≤–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ –¶–µ–ª—å—Å–∏—é, –µ—Å–ª–∏ –ø–æ –ö–µ–ª—å–≤–∏–Ω—É –æ–Ω–∞ —Ä–∞–≤–Ω–∞ 300 –ö?", 
                    answer: "27",
                    hint: "T(¬∞C) = T(K) - 273",
                    explanation: "T = 300 - 273 = 27¬∞C",
                    difficulty: "easy"
                },
                { 
                    question: "–ü—Ä–∏ –∏–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–æ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –≥–∞–∑ —Å–æ–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É 200 –î–∂. –ö–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–ø–ª–æ—Ç—ã –ø–æ–ª—É—á–∏–ª –≥–∞–∑ –≤ —ç—Ç–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ?", 
                    answer: "200",
                    hint: "–ü—Ä–∏ –∏–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ ŒîU = 0, –ø–æ—ç—Ç–æ–º—É Q = A",
                    explanation: "–ü–æ –ø–µ—Ä–≤–æ–º—É –Ω–∞—á–∞–ª—É —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∏: Q = ŒîU + A. –ü—Ä–∏ –∏–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ ŒîU = 0, –ø–æ—ç—Ç–æ–º—É Q = A = 200 –î–∂",
                    difficulty: "medium"
                },
                { 
                    question: "–ò–¥–µ–∞–ª—å–Ω—ã–π –≥–∞–∑ —Å–æ–≤–µ—Ä—à–∞–µ—Ç —Ü–∏–∫–ª –ö–∞—Ä–Ω–æ. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—è 400 –ö, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞ 300 –ö. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ö–ü–î —Ü–∏–∫–ª–∞ (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)", 
                    answer: "25",
                    hint: "–ö–ü–î —Ü–∏–∫–ª–∞ –ö–∞—Ä–Ω–æ: Œ∑ = (T‚ÇÅ - T‚ÇÇ) / T‚ÇÅ * 100%",
                    explanation: "Œ∑ = (400 - 300) / 400 * 100% = 100/400 * 100% = 25%",
                    difficulty: "medium"
                },
                { 
                    question: "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —ç–Ω–µ—Ä–≥–∏–∏ 2 –º–æ–ª—å –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –æ–¥–Ω–æ–∞—Ç–æ–º–Ω–æ–≥–æ –≥–∞–∑–∞ –ø—Ä–∏ –∏–∑–æ—Ö–æ—Ä–Ω–æ–º –Ω–∞–≥—Ä–µ–≤–∞–Ω–∏–∏ –Ω–∞ 50 –ö. (–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –≥–∞–∑–æ–≤–∞—è –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è R = 8.31 –î–∂/(–º–æ–ª—å¬∑–ö), –æ—Ç–≤–µ—Ç –≤ –î–∂–æ—É–ª—è—Ö)", 
                    answer: "1246.5",
                    hint: "–î–ª—è –æ–¥–Ω–æ–∞—Ç–æ–º–Ω–æ–≥–æ –≥–∞–∑–∞ Cv = 3/2 R, ŒîU = n * Cv * ŒîT",
                    explanation: "Cv = 1.5 * 8.31 = 12.465 –î–∂/(–º–æ–ª—å¬∑–ö); ŒîU = 2 * 12.465 * 50 = 1246.5 –î–∂",
                    difficulty: "hard"
                }
            ],
            electrodynamics: [
                { 
                    question: "–ß–µ–º—É —Ä–∞–≤–Ω–∞ —Å–∏–ª–∞ —Ç–æ–∫–∞, –µ—Å–ª–∏ –∑–∞ 10 —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ –ø–æ–ø–µ—Ä–µ—á–Ω–æ–µ —Å–µ—á–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∑–∞—Ä—è–¥ 50 –ö–ª? (–û—Ç–≤–µ—Ç –≤ –ê–º–ø–µ—Ä–∞—Ö)", 
                    answer: "5",
                    hint: "–°–∏–ª–∞ —Ç–æ–∫–∞ I = Q / t",
                    explanation: "I = 50 –ö–ª / 10 —Å = 5 –ê",
                    difficulty: "easy"
                },
                { 
                    question: "–ö–∞–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–ª–æ–∂–∏—Ç—å –∫ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫—É —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ–º 10 –û–º, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–∏–ª—É —Ç–æ–∫–∞ 2 –ê? (–û—Ç–≤–µ—Ç –≤ –í–æ–ª—å—Ç–∞—Ö)", 
                    answer: "20",
                    hint: "–ó–∞–∫–æ–Ω –û–º–∞: U = I * R",
                    explanation: "U = 2 –ê * 10 –û–º = 20 –í",
                    difficulty: "easy"
                },
                { 
                    question: "–î–≤–∞ —Ç–æ—á–µ—á–Ω—ã—Ö –∑–∞—Ä—è–¥–∞ –ø–æ 2 –Ω–ö–ª –∫–∞–∂–¥—ã–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 10 —Å–º –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–∏–ª—É –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. (–û—Ç–≤–µ—Ç –≤ –º–∏–∫—Ä–æ–Ω—å—é—Ç–æ–Ω–∞—Ö, k = 9¬∑10‚Åπ –ù¬∑–º¬≤/–ö–ª¬≤)", 
                    answer: "3.6",
                    hint: "–ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞: F = k * q‚ÇÅ * q‚ÇÇ / r¬≤",
                    explanation: "F = 9¬∑10‚Åπ * 2¬∑10‚Åª‚Åπ * 2¬∑10‚Åª‚Åπ / (0.1)¬≤ = 3.6¬∑10‚Åª‚Å∂ –ù = 3.6 –º–∫–ù",
                    difficulty: "medium"
                },
                { 
                    question: "–ù–∞–π–¥–∏—Ç–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –º–µ–¥–Ω–æ–≥–æ –ø—Ä–æ–≤–æ–¥–∞ –¥–ª–∏–Ω–æ–π 100 –º –∏ –ø–ª–æ—â–∞–¥—å—é –ø–æ–ø–µ—Ä–µ—á–Ω–æ–≥–æ —Å–µ—á–µ–Ω–∏—è 2 –º–º¬≤. –£–¥–µ–ª—å–Ω–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏ 0.017 –û–º¬∑–º–º¬≤/–º. (–û—Ç–≤–µ—Ç –≤ –û–º–∞—Ö, —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ —Å–æ—Ç—ã—Ö)", 
                    answer: "0.85",
                    hint: "R = œÅ * l / S",
                    explanation: "R = 0.017 * 100 / 2 = 0.85 –û–º",
                    difficulty: "medium"
                }
            ],
            optics: [
                { 
                    question: "–õ—É—á —Å–≤–µ—Ç–∞ –ø–∞–¥–∞–µ—Ç –Ω–∞ –ø–ª–æ—Å–∫–æ–µ –∑–µ—Ä–∫–∞–ª–æ –ø–æ–¥ —É–≥–ª–æ–º 30¬∞. –ß–µ–º—É —Ä–∞–≤–µ–Ω —É–≥–æ–ª –æ—Ç—Ä–∞–∂–µ–Ω–∏—è? (–û—Ç–≤–µ—Ç –≤ –≥—Ä–∞–¥—É—Å–∞—Ö)", 
                    answer: "30",
                    hint: "–£–≥–æ–ª –æ—Ç—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–≤–µ–Ω —É–≥–ª—É –ø–∞–¥–µ–Ω–∏—è",
                    explanation: "–ü–æ –∑–∞–∫–æ–Ω—É –æ—Ç—Ä–∞–∂–µ–Ω–∏—è —É–≥–æ–ª –æ—Ç—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–≤–µ–Ω —É–≥–ª—É –ø–∞–¥–µ–Ω–∏—è = 30¬∞",
                    difficulty: "easy"
                },
                { 
                    question: "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ñ–æ–∫—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ —Å–æ–±–∏—Ä–∞—é—â–µ–π –ª–∏–Ω–∑—ã, –µ—Å–ª–∏ –µ–µ –æ–ø—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–ª–∞ —Ä–∞–≤–Ω–∞ 5 –¥–ø—Ç—Ä. (–û—Ç–≤–µ—Ç –≤ –º–µ—Ç—Ä–∞—Ö)", 
                    answer: "0.2",
                    hint: "–û–ø—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–ª–∞ D = 1 / F",
                    explanation: "F = 1 / D = 1 / 5 = 0.2 –º",
                    difficulty: "easy"
                },
                { 
                    question: "–ü—Ä–µ–¥–º–µ—Ç –≤—ã—Å–æ—Ç–æ–π 2 —Å–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 15 —Å–º –æ—Ç —Å–æ–±–∏—Ä–∞—é—â–µ–π –ª–∏–Ω–∑—ã —Å —Ñ–æ–∫—É—Å–Ω—ã–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º 10 —Å–º. –ù–∞–π–¥–∏—Ç–µ –≤—ã—Å–æ—Ç—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. (–û—Ç–≤–µ—Ç –≤ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–∞—Ö)", 
                    answer: "4",
                    hint: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É–ª—É –ª–∏–Ω–∑—ã –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ",
                    explanation: "1/F = 1/d + 1/f; 1/10 = 1/15 + 1/f; f = 30 —Å–º; –ì = f/d = 30/15 = 2; h' = h * –ì = 2 * 2 = 4 —Å–º",
                    difficulty: "hard"
                }
            ],
            quantum: [
                { 
                    question: "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —ç–Ω–µ—Ä–≥–∏—é —Ñ–æ—Ç–æ–Ω–∞ —Å –¥–ª–∏–Ω–æ–π –≤–æ–ª–Ω—ã 500 –Ω–º. (h = 6.63¬∑10‚Åª¬≥‚Å¥ –î–∂¬∑—Å, c = 3¬∑10‚Å∏ –º/—Å, –æ—Ç–≤–µ—Ç –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–≤–æ–ª—å—Ç–∞—Ö, 1 —ç–í = 1.6¬∑10‚Åª¬π‚Åπ –î–∂)", 
                    answer: "2.48",
                    hint: "E = h * c / Œª, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ —ç–í",
                    explanation: "E = (6.63¬∑10‚Åª¬≥‚Å¥ * 3¬∑10‚Å∏) / (500¬∑10‚Åª‚Åπ) = 3.978¬∑10‚Åª¬π‚Åπ –î–∂ = 2.48 —ç–í",
                    difficulty: "medium"
                },
                { 
                    question: "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —ç–Ω–µ—Ä–≥–∏—é —Å–≤—è–∑–∏ —è–¥—Ä–∞ –≥–µ–ª–∏—è, –µ—Å–ª–∏ –¥–µ—Ñ–µ–∫—Ç –º–∞—Å—Å—ã —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 0.03 –∞.–µ.–º. (1 –∞.–µ.–º. = 931.5 –ú—ç–í, –æ—Ç–≤–µ—Ç –≤ –ú—ç–í)", 
                    answer: "27.95",
                    hint: "E = Œîm * c¬≤ = Œîm * 931.5 –ú—ç–í/–∞.–µ.–º.",
                    explanation: "E = 0.03 * 931.5 = 27.95 –ú—ç–í",
                    difficulty: "hard"
                }
            ]
        };

        // Generate Marathon Questions
        function generateMarathonQuestions() {
            const marathonQuestions = [];
            const difficulties = ['easy', 'medium', 'hard'];
            const sections = ['mechanics', 'thermodynamics', 'electrodynamics', 'optics', 'quantum'];
            
            // Generate 100 questions with increasing difficulty
            for (let i = 0; i < 100; i++) {
                let difficulty;
                if (i < 40) {
                    difficulty = 'easy';
                } else if (i < 80) {
                    difficulty = 'medium';
                } else {
                    difficulty = 'hard';
                }
                
                // Select random section
                const section = sections[Math.floor(Math.random() * sections.length)];
                
                // Get questions from selected section with selected difficulty
                const sectionQuestions = physicsQuestions[section].filter(q => q.difficulty === difficulty);
                
                if (sectionQuestions.length > 0) {
                    const randomQuestion = sectionQuestions[Math.floor(Math.random() * sectionQuestions.length)];
                    marathonQuestions.push({
                        ...randomQuestion,
                        section: section,
                        points: difficulty === 'easy' ? 10 : difficulty === 'medium' ? 20 : 30
                    });
                } else {
                    // Fallback to mechanics if no questions in section
                    const fallbackQuestions = physicsQuestions.mechanics.filter(q => q.difficulty === difficulty);
                    if (fallbackQuestions.length > 0) {
                        const randomQuestion = fallbackQuestions[Math.floor(Math.random() * fallbackQuestions.length)];
                        marathonQuestions.push({
                            ...randomQuestion,
                            section: 'mechanics',
                            points: difficulty === 'easy' ? 10 : difficulty === 'medium' ? 20 : 30
                        });
                    }
                }
            }
            
            return marathonQuestions;
        }

        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const sectionCards = document.querySelectorAll('.section-card');
        const sectionDetail = document.getElementById('sectionDetail');
        const detailClose = document.getElementById('detailClose');
        const detailIcon = document.getElementById('detailIcon');
        const detailTitle = document.getElementById('detailTitle');
        const detailText = document.getElementById('detailText');
        const detailInfo = document.getElementById('detailInfo');
        const startSectionGame = document.getElementById('startSectionGame');
        
        const gameArea = document.getElementById('gameArea');
        const resultsScreen = document.getElementById('resultsScreen');
        
        const scoreElement = document.getElementById('score');
        const questionNumberElement = document.getElementById('questionNumber');
        const correctAnswersElement = document.getElementById('correctAnswers');
        const bonusTimeElement = document.getElementById('bonusTime');
        const timerElement = document.getElementById('timer');
        const currentQuestionElement = document.getElementById('currentQuestion');
        const totalQuestionsElement = document.getElementById('totalQuestions');
        
        const questionText = document.getElementById('questionText');
        const questionHint = document.getElementById('questionHint');
        const difficultyBadge = document.getElementById('difficultyBadge');
        const answerInput = document.getElementById('answerInput');
        const submitAnswerBtn = document.getElementById('submitAnswer');
        const showHintBtn = document.getElementById('showHint');
        const skipQuestionBtn = document.getElementById('skipQuestion');
        const hintBox = document.getElementById('hintBox');
        const hintText = document.getElementById('hintText');
        
        const finalScore = document.getElementById('finalScore');
        const finalCorrect = document.getElementById('finalCorrect');
        const finalTime = document.getElementById('finalTime');
        const finalBonus = document.getElementById('finalBonus');
        const playAgainBtn = document.getElementById('playAgain');
        const newGameBtn = document.getElementById('newGame');

        // Section Details Data
        const sectionDetails = {
            mechanics: {
                title: "–ú–ï–•–ê–ù–ò–ö–ê",
                icon: "fas fa-cogs",
                description: "–†–∞–∑–¥–µ–ª –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ñ–∏–∑–∏–∫–∏, –∏–∑—É—á–∞—é—â–∏–π –¥–≤–∏–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö —Ç–µ–ª –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏.",
                info: `
                    <div style="margin: 25px 0; padding: 20px; background: rgba(123, 104, 238, 0.1); border-radius: 15px; width: 100%;">
                        <h3 style="color: var(--primary); margin-bottom: 10px; text-align: center;">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ê–ó–î–ï–õ–ê</h3>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ 15 –∑–∞–¥–∞—á —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –û—Ç –∑–∞–∫–æ–Ω–æ–≤ –ù—å—é—Ç–æ–Ω–∞ –∫ –∑–∞–¥–∞—á–∞–º –¥–∏–Ω–∞–º–∏–∫–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ: 3 –º–∏–Ω—É—Ç—ã</p>
                        <p style="text-align: center;">‚Ä¢ –ë–∞–ª–ª—ã: 10-30 –∑–∞ –∑–∞–¥–∞—á—É</p>
                    </div>
                    <div style="padding: 15px; background: rgba(0, 212, 170, 0.1); border-radius: 15px; margin-top: 15px; width: 100%;">
                        <h4 style="color: var(--accent); margin-bottom: 8px; text-align: center;">üéØ –¢–ï–ú–´ –†–ê–ó–î–ï–õ–ê:</h4>
                        <p style="text-align: center;">‚Ä¢ –ö–∏–Ω–µ–º–∞—Ç–∏–∫–∞ –∏ –¥–∏–Ω–∞–º–∏–∫–∞</p>
                        <p style="text-align: center;">‚Ä¢ –ó–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</p>
                        <p style="text-align: center;">‚Ä¢ –°—Ç–∞—Ç–∏–∫–∞ –∏ –≥–∏–¥—Ä–æ—Å—Ç–∞—Ç–∏–∫–∞</p>
                    </div>
                `
            },
            thermodynamics: {
                title: "–¢–ï–†–ú–û–î–ò–ù–ê–ú–ò–ö–ê",
                icon: "fas fa-thermometer-half",
                description: "–ù–∞—É–∫–∞ –æ —Ç–µ–ø–ª–æ–≤—ã—Ö —è–≤–ª–µ–Ω–∏—è—Ö, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏ –∏ —Å–≤–æ–π—Å—Ç–≤–∞—Ö –º–∞–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º.",
                info: `
                    <div style="margin: 25px 0; padding: 20px; background: rgba(123, 104, 238, 0.1); border-radius: 15px; width: 100%;">
                        <h3 style="color: var(--primary); margin-bottom: 10px; text-align: center;">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ê–ó–î–ï–õ–ê</h3>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ 15 –∑–∞–¥–∞—á —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –û—Ç –æ—Å–Ω–æ–≤ –∫ —Å–ª–æ–∂–Ω—ã–º —Ü–∏–∫–ª–∞–º</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ: 4 –º–∏–Ω—É—Ç—ã</p>
                        <p style="text-align: center;">‚Ä¢ –ë–∞–ª–ª—ã: 10-30 –∑–∞ –∑–∞–¥–∞—á—É</p>
                    </div>
                    <div style="padding: 15px; background: rgba(0, 212, 170, 0.1); border-radius: 15px; margin-top: 15px; width: 100%;">
                        <h4 style="color: var(--accent); margin-bottom: 8px; text-align: center;">üéØ –¢–ï–ú–´ –†–ê–ó–î–ï–õ–ê:</h4>
                        <p style="text-align: center;">‚Ä¢ –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–∞–∑–∞</p>
                        <p style="text-align: center;">‚Ä¢ –ü–µ—Ä–≤–æ–µ –Ω–∞—á–∞–ª–æ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∏</p>
                        <p style="text-align: center;">‚Ä¢ –¢–µ–ø–ª–æ–≤—ã–µ –º–∞—à–∏–Ω—ã –∏ –ö–ü–î</p>
                    </div>
                `
            },
            electrodynamics: {
                title: "–≠–õ–ï–ö–¢–†–û–î–ò–ù–ê–ú–ò–ö–ê",
                icon: "fas fa-bolt",
                description: "–†–∞–∑–¥–µ–ª —Ñ–∏–∑–∏–∫–∏, –∏–∑—É—á–∞—é—â–∏–π —ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–µ –ø–æ–ª—è, –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–µ—â–µ—Å—Ç–≤–æ–º –∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ü–µ–ø–∏.",
                info: `
                    <div style="margin: 25px 0; padding: 20px; background: rgba(123, 104, 238, 0.1); border-radius: 15px; width: 100%;">
                        <h3 style="color: var(--primary); margin-bottom: 10px; text-align: center;">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ê–ó–î–ï–õ–ê</h3>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ 15 –∑–∞–¥–∞—á —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –û—Ç –∑–∞–∫–æ–Ω–∞ –û–º–∞ –∫ —Ç–µ–æ—Ä–∏–∏ –ø–æ–ª—è</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ: 4 –º–∏–Ω—É—Ç—ã</p>
                        <p style="text-align: center;">‚Ä¢ –ë–∞–ª–ª—ã: 10-30 –∑–∞ –∑–∞–¥–∞—á—É</p>
                    </div>
                    <div style="padding: 15px; background: rgba(0, 212, 170, 0.1); border-radius: 15px; margin-top: 15px; width: 100%;">
                        <h4 style="color: var(--accent); margin-bottom: 8px; text-align: center;">üéØ –¢–ï–ú–´ –†–ê–ó–î–ï–õ–ê:</h4>
                        <p style="text-align: center;">‚Ä¢ –≠–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞—Ç–∏–∫–∞ –∏ –º–∞–≥–Ω–µ—Ç–∏–∑–º</p>
                        <p style="text-align: center;">‚Ä¢ –ó–∞–∫–æ–Ω—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞</p>
                        <p style="text-align: center;">‚Ä¢ –≠–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è</p>
                    </div>
                `
            },
            optics: {
                title: "–û–ü–¢–ò–ö–ê",
                icon: "fas fa-lightbulb",
                description: "–ù–∞—É–∫–∞ –æ —Å–≤–µ—Ç–µ, –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞—Ö, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å –≤–µ—â–µ—Å—Ç–≤–æ–º.",
                info: `
                    <div style="margin: 25px 0; padding: 20px; background: rgba(123, 104, 238, 0.1); border-radius: 15px; width: 100%;">
                        <h3 style="color: var(--primary); margin-bottom: 10px; text-align: center;">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ê–ó–î–ï–õ–ê</h3>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ 15 –∑–∞–¥–∞—á —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –û—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–∫–∏ –∫ –≤–æ–ª–Ω–æ–≤–æ–π</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ: 4 –º–∏–Ω—É—Ç—ã</p>
                        <p style="text-align: center;">‚Ä¢ –ë–∞–ª–ª—ã: 10-30 –∑–∞ –∑–∞–¥–∞—á—É</p>
                    </div>
                    <div style="padding: 15px; background: rgba(0, 212, 170, 0.1); border-radius: 15px; margin-top: 15px; width: 100%;">
                        <h4 style="color: var(--accent); margin-bottom: 8px; text-align: center;">üéØ –¢–ï–ú–´ –†–ê–ó–î–ï–õ–ê:</h4>
                        <p style="text-align: center;">‚Ä¢ –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–∫–∞</p>
                        <p style="text-align: center;">‚Ä¢ –í–æ–ª–Ω–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–≤–µ—Ç–∞</p>
                        <p style="text-align: center;">‚Ä¢ –ö–≤–∞–Ω—Ç–æ–≤–∞—è –æ–ø—Ç–∏–∫–∞</p>
                    </div>
                `
            },
            quantum: {
                title: "–ö–í–ê–ù–¢–û–í–ê–Ø –§–ò–ó–ò–ö–ê",
                icon: "fas fa-atom",
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Ñ–∏–∑–∏–∫–∏, –∏–∑—É—á–∞—é—â–∏–π –∫–≤–∞–Ω—Ç–æ–≤—ã–µ —è–≤–ª–µ–Ω–∏—è –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–∏–∫—Ä–æ—á–∞—Å—Ç–∏—Ü.",
                info: `
                    <div style="margin: 25px 0; padding: 20px; background: rgba(123, 104, 238, 0.1); border-radius: 15px; width: 100%;">
                        <h3 style="color: var(--primary); margin-bottom: 10px; text-align: center;">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ê–ó–î–ï–õ–ê</h3>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ 15 –∑–∞–¥–∞—á —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –û—Ç —Ñ–æ—Ç–æ—ç—Ñ—Ñ–µ–∫—Ç–∞ –∫ —è–¥–µ—Ä–Ω—ã–º —Ä–µ–∞–∫—Ü–∏—è–º</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ: 5 –º–∏–Ω—É—Ç</p>
                        <p style="text-align: center;">‚Ä¢ –ë–∞–ª–ª—ã: 10-30 –∑–∞ –∑–∞–¥–∞—á—É</p>
                    </div>
                    <div style="padding: 15px; background: rgba(0, 212, 170, 0.1); border-radius: 15px; margin-top: 15px; width: 100%;">
                        <h4 style="color: var(--accent); margin-bottom: 8px; text-align: center;">üéØ –¢–ï–ú–´ –†–ê–ó–î–ï–õ–ê:</h4>
                        <p style="text-align: center;">‚Ä¢ –§–æ—Ç–æ—ç—Ñ—Ñ–µ–∫—Ç –∏ —Ñ–æ—Ç–æ–Ω—ã</p>
                        <p style="text-align: center;">‚Ä¢ –°—Ç—Ä–æ–µ–Ω–∏–µ –∞—Ç–æ–º–∞</p>
                        <p style="text-align: center;">‚Ä¢ –Ø–¥–µ—Ä–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏</p>
                    </div>
                `
            },
            marathon: {
                title: "–§–ò–ó–ò–ß–ï–°–ö–ò–ô –ú–ê–†–ê–§–û–ù",
                icon: "fas fa-fire",
                description: "–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö –∑–Ω–∞—Ç–æ–∫–æ–≤ —Ñ–∏–∑–∏–∫–∏! 100 –∑–∞–¥–∞—á –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∫ —Å–ª–æ–∂–Ω—ã–º.",
                info: `
                    <div style="margin: 25px 0; padding: 20px; background: rgba(255, 107, 139, 0.1); border-radius: 15px; width: 100%;">
                        <h3 style="color: #FF6B8B; margin-bottom: 10px; text-align: center;">üèÉ‚Äç‚ôÇÔ∏è –ò–°–ü–´–¢–ê–ù–ò–ï –ú–ê–†–ê–§–û–ù–ê</h3>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ 100 –∑–∞–¥–∞—á –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Å–µ —Ä–∞–∑–¥–µ–ª—ã —Ñ–∏–∑–∏–∫–∏ –≤ –æ–¥–Ω–æ–π –∏–≥—Ä–µ</p>
                        <p style="margin-bottom: 5px; text-align: center;">‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ: 30 –º–∏–Ω—É—Ç</p>
                        <p style="text-align: center;">‚Ä¢ –ë–∞–ª–ª—ã: 10-30 –∑–∞ –∑–∞–¥–∞—á—É</p>
                    </div>
                    <div style="padding: 15px; background: rgba(255, 209, 102, 0.1); border-radius: 15px; margin-top: 15px; width: 100%;">
                        <h4 style="color: var(--warning); margin-bottom: 8px; text-align: center;">‚ö° –û–°–û–ë–ï–ù–ù–û–°–¢–ò –ú–ê–†–ê–§–û–ù–ê:</h4>
                        <p style="text-align: center;">‚Ä¢ –°–ª–æ–∂–Ω–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –≤–æ–ø—Ä–æ—Å–æ–≤</p>
                        <p style="text-align: center;">‚Ä¢ –ë–æ–Ω—É—Å–Ω—ã–µ —Å–µ–∫—É–Ω–¥—ã –∑–∞ –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã</p>
                        <p style="text-align: center;">‚Ä¢ –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>
                    </div>
                `
            }
        };

        // Theme Toggle
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            if (document.body.classList.contains('dark-theme')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                themeToggle.style.background = 'var(--primary)';
                themeToggle.style.color = 'white';
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                themeToggle.style.background = 'var(--dark-light)';
                themeToggle.style.color = 'var(--dark)';
            }
        });

        // Section Card Click
        sectionCards.forEach(card => {
            card.addEventListener('click', () => {
                const section = card.dataset.section;
                const details = sectionDetails[section];
                
                // Update modal content
                detailIcon.innerHTML = `<i class="${details.icon}"></i>`;
                detailTitle.textContent = details.title;
                detailText.textContent = details.description;
                detailInfo.innerHTML = details.info;
                
                // Store selected section
                gameState.section = section;
                gameState.mode = section === 'marathon' ? 'marathon' : 'regular';
                
                // Show modal with animation
                sectionDetail.style.display = 'flex';
                setTimeout(() => {
                    sectionDetail.style.opacity = '1';
                }, 10);
            });
        });

        // Close Detail Modal
        detailClose.addEventListener('click', closeDetailModal);
        
        function closeDetailModal() {
            sectionDetail.style.opacity = '0';
            setTimeout(() => {
                sectionDetail.style.display = 'none';
            }, 300);
        }

        // Start Game from Modal
        startSectionGame.addEventListener('click', () => {
            closeDetailModal();
            startGame();
        });

        // Start Game Function
        function startGame() {
            // Initialize game state
            gameState.score = 0;
            gameState.correctAnswers = 0;
            gameState.currentQuestion = 0;
            gameState.bonusTime = 0;
            gameState.usedHints = 0;
            gameState.wrongAttempts = 0;
            gameState.gameActive = true;
            gameState.startTime = Date.now();
            
            // Set game parameters based on section
            if (gameState.section === 'marathon') {
                gameState.totalQuestions = 100;
                gameState.timeLeft = sectionTimes.marathon; // 30 –º–∏–Ω—É—Ç
                gameState.questions = generateMarathonQuestions();
            } else {
                gameState.totalQuestions = 15;
                gameState.timeLeft = sectionTimes[gameState.section] || 180; // 3 –º–∏–Ω—É—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                
                // Generate questions for regular section
                const sectionQuestions = physicsQuestions[gameState.section] || physicsQuestions.mechanics;
                const easyQuestions = sectionQuestions.filter(q => q.difficulty === 'easy');
                const mediumQuestions = sectionQuestions.filter(q => q.difficulty === 'medium');
                const hardQuestions = sectionQuestions.filter(q => q.difficulty === 'hard');
                
                gameState.questions = [
                    ...getRandomQuestions(easyQuestions, 5),
                    ...getRandomQuestions(mediumQuestions, 5),
                    ...getRandomQuestions(hardQuestions, 5)
                ].map(q => ({
                    ...q,
                    points: q.difficulty === 'easy' ? 10 : q.difficulty === 'medium' ? 20 : 30
                }));
            }
            
            // Update UI
            scoreElement.textContent = '0';
            correctAnswersElement.textContent = '0';
            bonusTimeElement.textContent = '0';
            currentQuestionElement.textContent = '1';
            totalQuestionsElement.textContent = gameState.totalQuestions;
            questionNumberElement.textContent = `1/${gameState.totalQuestions}`;
            
            // Update timer display
            updateTimerDisplay();
            
            // Show game area
            document.querySelector('.sections-container').style.display = 'none';
            gameArea.style.display = 'block';
            resultsScreen.style.display = 'none';
            
            // Start timer
            if (gameState.timeLeft > 0) {
                startTimer();
            }
            
            // Load first question
            loadNextQuestion();
        }

        function getRandomQuestions(questions, count) {
            const shuffled = [...questions].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // Timer Functions
        function startTimer() {
            if (gameState.timerInterval) {
                clearInterval(gameState.timerInterval);
            }
            
            updateTimerDisplay();
            
            gameState.timerInterval = setInterval(() => {
                if (gameState.gameActive && gameState.timeLeft > 0) {
                    gameState.timeLeft--;
                    updateTimerDisplay();
                    
                    if (gameState.timeLeft <= 60) {
                        timerElement.classList.add('warning');
                    }
                    
                    if (gameState.timeLeft <= 0) {
                        endGame();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.timeLeft / 60);
            const seconds = gameState.timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update timer label color based on time
            if (gameState.timeLeft < 60) {
                timerElement.style.color = 'var(--warning)';
            } else if (gameState.timeLeft < 120) {
                timerElement.style.color = '#FF6B8B';
            } else {
                timerElement.style.color = 'white';
            }
        }

        // Load Next Question
        function loadNextQuestion() {
            if (gameState.currentQuestion >= gameState.totalQuestions) {
                endGame();
                return;
            }
            
            gameState.currentQuestionData = gameState.questions[gameState.currentQuestion];
            gameState.wrongAttempts = 0;
            
            // Update UI
            questionText.textContent = gameState.currentQuestionData.question;
            currentQuestionElement.textContent = gameState.currentQuestion + 1;
            questionNumberElement.textContent = `${gameState.currentQuestion + 1}/${gameState.totalQuestions}`;
            
            // Set difficulty badge
            difficultyBadge.textContent = gameState.currentQuestionData.difficulty === 'easy' ? '–õ—ë–≥–∫–∏–π' : 
                                         gameState.currentQuestionData.difficulty === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π' : '–°–ª–æ–∂–Ω—ã–π';
            difficultyBadge.className = 'difficulty-badge ' + 
                (gameState.currentQuestionData.difficulty === 'easy' ? 'easy-badge' : 
                 gameState.currentQuestionData.difficulty === 'medium' ? 'medium-badge' : 'hard-badge');
            
            // Update hint about answer format
            if (gameState.currentQuestionData.answer.includes('.') || 
                gameState.currentQuestionData.answer.includes(',')) {
                questionHint.textContent = '–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç —á–∏—Å–ª–æ–º (–¥–µ—Å—è—Ç–∏—á–Ω–∞—è –¥—Ä–æ–±—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—á–∫—É –∫–∞–∫ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å)';
            } else {
                questionHint.textContent = '–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º';
            }
            
            // Clear input and hide hints
            answerInput.value = '';
            hintBox.classList.remove('show');
            answerInput.focus();
            
            // Add animation
            questionText.parentElement.classList.add('pulse');
            setTimeout(() => {
                questionText.parentElement.classList.remove('pulse');
            }, 500);
        }

        // Check Answer
        submitAnswerBtn.addEventListener('click', checkAnswer);
        answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        function checkAnswer() {
            if (!gameState.gameActive) return;
            
            const userAnswer = answerInput.value.trim().replace(',', '.');
            const correctAnswer = gameState.currentQuestionData.answer;
            
            if (!userAnswer) {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç!', 'warning');
                return;
            }
            
            // Check if answer is correct
            let isCorrect = false;
            if (correctAnswer.includes('.') || correctAnswer.includes(',')) {
                // For decimal answers
                const userNum = parseFloat(userAnswer);
                const correctNum = parseFloat(correctAnswer.replace(',', '.'));
                isCorrect = Math.abs(userNum - correctNum) < 0.01;
            } else {
                // For integer answers
                isCorrect = userAnswer === correctAnswer;
            }
            
            if (isCorrect) {
                // Correct answer
                handleCorrectAnswer();
            } else {
                // Incorrect answer
                handleIncorrectAnswer();
            }
        }

        function handleCorrectAnswer() {
            // Calculate points
            const basePoints = gameState.currentQuestionData.points;
            const bonusMultiplier = gameState.wrongAttempts === 0 ? 1.5 : 1;
            const pointsEarned = Math.round(basePoints * bonusMultiplier);
            
            gameState.score += pointsEarned;
            gameState.correctAnswers++;
            
            // Bonus for first attempt
            if (gameState.wrongAttempts === 0) {
                gameState.bonusTime += 10;
                if (gameState.timeLeft > 0) {
                    gameState.timeLeft += 10;
                    updateTimerDisplay();
                }
                
                // Show bonus animation
                showMessage(`+${pointsEarned} –±–∞–ª–ª–æ–≤! +10 —Å–µ–∫—É–Ω–¥ –±–æ–Ω—É—Å–∞!`, 'success');
                questionText.parentElement.classList.add('correct-animation');
            } else {
                showMessage(`+${pointsEarned} –±–∞–ª–ª–æ–≤!`, 'success');
            }
            
            // Update UI
            scoreElement.textContent = gameState.score;
            correctAnswersElement.textContent = gameState.correctAnswers;
            bonusTimeElement.textContent = gameState.bonusTime;
            
            // Move to next question
            gameState.currentQuestion++;
            setTimeout(() => {
                if (gameState.currentQuestion < gameState.totalQuestions) {
                    loadNextQuestion();
                } else {
                    endGame();
                }
            }, 1500);
        }

        function handleIncorrectAnswer() {
            gameState.wrongAttempts++;
            
            // Show animation
            answerInput.parentElement.classList.add('incorrect-animation');
            setTimeout(() => {
                answerInput.parentElement.classList.remove('incorrect-animation');
            }, 500);
            
            if (gameState.wrongAttempts >= 3) {
                // After 3 wrong attempts, skip question
                showMessage(`–ù–µ–≤–µ—Ä–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${gameState.currentQuestionData.answer}`, 'info');
                setTimeout(() => {
                    skipQuestion();
                }, 2000);
            } else {
                showMessage(`–ù–µ–≤–µ—Ä–Ω–æ! –ü–æ–ø—ã—Ç–æ–∫ –æ—Å—Ç–∞–ª–æ—Å—å: ${3 - gameState.wrongAttempts}`, 'warning');
                answerInput.focus();
                answerInput.select();
            }
        }

        // Show Hint
        showHintBtn.addEventListener('click', () => {
            if (!gameState.gameActive) return;
            
            if (gameState.score >= 5) {
                gameState.score -= 5;
                scoreElement.textContent = gameState.score;
                
                hintText.textContent = gameState.currentQuestionData.hint;
                hintBox.classList.add('show');
                gameState.usedHints++;
                
                showMessage('–ü–æ–¥—Å–∫–∞–∑–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞! -5 –±–∞–ª–ª–æ–≤', 'info');
            } else {
                showMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–ª–æ–≤ –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏!', 'warning');
            }
        });

        // Skip Question
        skipQuestionBtn.addEventListener('click', skipQuestion);

        function skipQuestion() {
            if (!gameState.gameActive) return;
            
            if (gameState.score >= 10) {
                gameState.score -= 10;
                scoreElement.textContent = gameState.score;
                showMessage('–í–æ–ø—Ä–æ—Å –ø—Ä–æ–ø—É—â–µ–Ω! -10 –±–∞–ª–ª–æ–≤', 'warning');
            } else {
                gameState.score = 0;
                scoreElement.textContent = '0';
                showMessage('–í–æ–ø—Ä–æ—Å –ø—Ä–æ–ø—É—â–µ–Ω! –ë–∞–ª–ª—ã –æ–±–Ω—É–ª–µ–Ω—ã', 'warning');
            }
            
            // Move to next question
            gameState.currentQuestion++;
            if (gameState.currentQuestion < gameState.totalQuestions) {
                setTimeout(() => loadNextQuestion(), 1000);
            } else {
                endGame();
            }
        }

        // End Game
        function endGame() {
            gameState.gameActive = false;
            
            if (gameState.timerInterval) {
                clearInterval(gameState.timerInterval);
                gameState.timerInterval = null;
            }
            
            // Calculate final time
            const totalSeconds = gameState.startTime ? 
                Math.floor((Date.now() - gameState.startTime) / 1000) : 0;
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update results
            finalScore.textContent = gameState.score;
            finalCorrect.textContent = gameState.correctAnswers;
            finalTime.textContent = timeString;
            finalBonus.textContent = gameState.bonusTime;
            
            // Show results
            gameArea.style.display = 'none';
            resultsScreen.style.display = 'block';
            
            // Add celebration for high scores
            if (gameState.score > gameState.totalQuestions * 15) {
                finalScore.style.background = 'linear-gradient(45deg, #FFD700, #FFA500)';
                showMessage('–ü–æ—Ç—Ä—è—Å–∞—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üèÜ', 'success');
            }
        }

        // Play Again
        playAgainBtn.addEventListener('click', () => {
            resultsScreen.style.display = 'none';
            startGame();
        });

        // New Game
        newGameBtn.addEventListener('click', () => {
            resultsScreen.style.display = 'none';
            gameArea.style.display = 'none';
            document.querySelector('.sections-container').style.display = 'block';
        });

        // Utility Functions
        function showMessage(text, type) {
            // Create message element
            const message = document.createElement('div');
            message.textContent = text;
            message.style.cssText = `
                position: fixed;
                top: 100px;
                left: 50%;
                transform: translateX(-50%) translateY(-20px);
                background: ${type === 'success' ? 'var(--accent)' : 
                           type === 'warning' ? 'var(--warning)' : 
                           type === 'info' ? 'var(--primary)' : 'var(--danger)'};
                color: white;
                padding: 15px 30px;
                border-radius: 50px;
                font-weight: 600;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 3000;
                opacity: 0;
                animation: messageIn 0.3s forwards, messageOut 0.3s 2s forwards;
                text-align: center;
            `;
            
            document.body.appendChild(message);
            
            // Remove after animation
            setTimeout(() => {
                if (message.parentNode) {
                    message.parentNode.removeChild(message);
                }
            }, 2300);
        }

        // Add CSS for message animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes messageIn {
                from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                to { opacity: 1; transform: translateX(-50%) translateY(0); }
            }
            @keyframes messageOut {
                from { opacity: 1; transform: translateX(-50%) translateY(0); }
                to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        `;
        document.head.appendChild(style);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Add hover effects to cards
            sectionCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-5px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0) scale(1)';
                });
            });
            
            // Initialize theme
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-theme');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                themeToggle.style.background = 'var(--primary)';
                themeToggle.style.color = 'white';
            }
        });

        // Close modal on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && sectionDetail.style.display === 'flex') {
                closeDetailModal();
            }
        });

        // Close modal on background click
        sectionDetail.addEventListener('click', (e) => {
            if (e.target === sectionDetail) {
                closeDetailModal();
            }
        });
    </script>
</body>
</html>